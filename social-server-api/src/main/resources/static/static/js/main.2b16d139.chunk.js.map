{"version":3,"sources":["services/auth.js","state.js","api.js","components/navigation/Navigation.js","containers/comments/Comments.js","components/post/Post.js","containers/posts/Posts.js","containers/friends/Friends.js","components/login/Login.js","components/signup/Signup.js","components/postModal/PostModal.js","App.js","serviceWorker.js","index.js"],"names":["getAuthToken","localStorage","getItem","initialState","postUesrId","auth","authToken","jwtDecode","getAuth","posts","friends","query","comments","postModalOpened","StateContext","createContext","reducer","state","action","type","Object","objectSpread","post","concat","toConsumableArray","offset","defineProperty","postId","map","v","seq","StateProvider","_ref","children","react_default","a","createElement","Provider","value","useReducer","useStateValue","useContext","url","login","email","passwd","axios","principal","credentials","then","data","success","Error","response","getComments","userId","get","getApiKeyHeader","error","message","headers","api_key","defaults","Navigation","_useState","useState","_useState2","slicedToArray","isOpen","setisOpen","_useStateValue","_useStateValue2","dispatch","_useState3","_useState4","profileImage","setPorfileImage","useEffect","profileImageUrl","catch","alert","Navbar","fixed","color","dark","expand","sticky","es","to","NavbarBrand","tag","className","src","alt","NavbarToggler","onClick","Collapse","navbar","Nav","NavItem","NavLink","index_esm","icon","Plus","size","Organization","name","removeItem","Comment","props","Fragment","href","writer","dist_default","fromNow","ago","createAt","contents","Comments","_useStateValue2$","text","setText","handleResults","postCommests","key","Comments_Comment","onChange","e","target","placeholder","Button","length","_","Post","username","KebabHorizontal","onLikeClick","likesOfMe","Thumbsup","likes","Comments_Comments","Posts","friendId","setError","limit","setQuery","latestQuery","useRef","latestPosts","current","handleResult","userKey","handleError","console","status","handleScroll","d","document","documentElement","Math","max","window","pageYOffset","scrollTop","body","innerHeight","height","offsetHeight","round","addEventListener","_ref2","params","getPost","likeThisPost","patch","log","Post_Post","assign","address","preventDefault","noThrow","Friend","Person","Friends","Friends_Friend","Login","_React$useState","React","_React$useState2","setEmail","_React$useState3","_React$useState4","setPasswd","handleSubmit","asyncToGenerator","regenerator_default","mark","_callee","rep","_auth","wrap","_context","prev","next","sent","apiToken","setItem","t0","abrupt","stop","apply","this","arguments","currentTarget","required","autoFocus","Signup","setName","_useState5","_useState6","password","setPassword","_useState7","_useState8","rePassword","setRePassword","_useState9","_useState10","file","setFile","onSubmit","formData","FormData","append","content-type","signup","navigate","dir","id","files","PostModal","setContents","toggle","Modal","ModalHeader","ModalBody","spellCheck","ModalFooter","sendPost","Moment","globalLocale","App","state_StateProvider","Navigation_Navigation","Posts_Posts","path","containers_friends_Friends","Login_Login","components_signup_Signup","postModal_PostModal","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","urlBase64ToUint8Array","base64String","base64","repeat","replace","rawData","atob","Uint8Array","from","char","charCodeAt","Promise","resolve","reject","permissionResult","Notification","requestPermission","result","ReactDOM","render","src_App_0","getElementById","URL","process","origin","fetch","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker","subscribeOptions","userVisibleOnly","applicationServerKey","pushManager","subscribe","subscription","notificationEndPoint","endpoint","getKey","JSON","stringify","sendSubscription","publicKey","btoa","String","fromCharCode"],"mappings":"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","file":"static/js/main.2b16d139.chunk.js","sourcesContent":["import jwtDecode from 'jwt-decode';\n\nconst getAuthToken = () => {\n  return localStorage.getItem(\"auth_token\");\n};\n\nconst getAuth= () => {\n  const authToken = localStorage.getItem(\"auth_token\");\n    if (authToken) {\n      return jwtDecode(authToken);\n    }\n    return null;\n};\n\nexport { getAuthToken, getAuth };","\nimport React, { createContext, useContext, useReducer } from 'react';\nimport { getAuth } from './services/auth';\n\nexport const initialState = {\n  postUesrId: null,\n  auth: getAuth(),\n  posts: [],\n  friends: [],\n  query: {},\n  comments: {},\n  postModalOpened: false\n};\n\nexport const StateContext = createContext();\n\nexport const reducer = (state, action) => {\n  switch (action.type) {\n    case 'login':\n      return {\n        ...state,\n        auth: action.auth\n      };\n    case 'logout':      \n      return {\n        ...initialState,\n        auth: null\n      };\n    case 'newPostCreated': \n      return {\n        ...state,\n        posts: [action.post, ...state.posts]\n      }\n    case 'appendPosts':\n      return {\n        ...state,\n        posts:\n          (action.query.offset != state.query.offset) ?\n            [...state.posts, ...action.posts] : state.posts,\n        query: action.query,\n        postUesrId: action.postUesrId\n      }\n    case 'getPosts':\n      return {\n        ...state,\n        posts: action.posts,\n        query: action.query,\n        postUesrId: action.postUesrId\n      }\n    case 'getComments':\n      return {\n        ...state,\n        comments: {\n          ...state.comments,\n          [action.postId]: action.comments\n        }\n      }\n    case 'getFriedns': \n      return {\n        ...state,\n        friends: action.friends\n      }\n    case 'updatePost': \n      return {\n        ...state,\n        posts: state.posts.map(v => {\n          if (v.seq === action.post.seq) {\n            return action.post;\n          } else {\n            return v;\n          }\n        })\n      }\n    case 'openPostModal':\n      return {\n        ...state,\n        postModalOpened: true\n      }\n    case 'togglePostModal':\n      return {\n        ...state,\n        postModalOpened: action.postModalOpened\n      }\n    default:\n      return state;\n  }\n};\n\nexport const StateProvider = ({reducer, initialState, children}) =>(\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\n    {children}\n  </StateContext.Provider>\n);\n\nexport const useStateValue = () => useContext(StateContext);\n","import axios from 'axios';\nimport { getAuthToken } from './services/auth'\n\nconst url = '/api'\n\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\nexport function login({ email, passwd }) {\n  return axios.post(`${url}/auth`, { \n    principal: email, \n    credentials: passwd \n  }).then(v => v.data)\n    .then(v => {\n      if (!v.success) {\n        throw new Error();\n      }\n      return v.response;\n    });\n}\n\nexport function getPost(userId, { offset, limit }) {\n  return axios.get(`${url}/user/${userId}/post/list`, {\n      ...getApiKeyHeader(),\n      params: {\n        offset,\n        limit,  \n      }\n    })\n    .then(v => v.data)\n    .then(v => {\n      if (!v.success) {\n        throw new Error(v.error.message);\n      }\n      return v.response;\n    });\n}\n\nexport function getComments(userId, postId) {\n  return axios.get(`${url}/user/${userId}/post/${postId}/comment/list`, {\n    ...getApiKeyHeader()\n  })\n    .then(v => v.data)\n    .then(v => {\n      if (!v.success) {\n        throw new Error(v.error.message);\n      }\n      return v.response;\n    });\n}\n\nexport function getFreinds() {\n  return axios.get(`${url}/user/connections`, getApiKeyHeader())\n    .then(v => v.data)\n    .then(v => {\n      if (!v.success) {\n        throw new Error(v.error.message);\n      }\n      return v.response;\n    });\n}\n\nexport function sendPost(contents) {\n  return axios.post(`${url}/post`, { contents }, getApiKeyHeader())\n    .then(v => v.data)\n    .then(v => {\n      if (!v.success) {\n        throw new Error();\n      }\n      return v.response;\n    });\n}\n\nexport function writeComment(userId, postId, contents) {\n  return axios.post(`${url}/user/${userId}/post/${postId}/comment`, { contents }, getApiKeyHeader())\n    .then(v => v.data)\n    .then(v => {\n      if (!v.success) {\n        throw new Error();\n      }\n      return v.response;\n    });\n}\n\nexport function likePost(userId, postId) {\n  return axios.patch(`${url}/user/${userId}/post/${postId}/like`, {}, getApiKeyHeader())\n    .then(v => v.data)\n    .then(v => {\n      if (!v.success) {\n        throw new Error();\n      }\n      return v.response;\n    });\n}\n\nexport function signup(principal, name, credentials, file) {\n  const formData = new FormData();\n  formData.append('principal', principal);\n  formData.append('name', name);\n  formData.append('credentials', credentials);\n  formData.append('file', file);\n\n  return axios.post(`${url}/user/join`, formData, {\n    headers: { 'content-type': 'multipart/form-data' }\n  }).then(v => v.data)\n    .then(v => {\n      console.log(\"???\", v)\n      if (!v.success) {\n        throw new Error();\n      }\n      return v.response;\n    });\n}\n\nexport function userExists(address) {\n  return axios.post(`${url}/user/exists`, { address }).then(v => v.data)\n    .then(v => {\n      if (!v.success) {\n        throw new Error();\n      }\n      return v.response;\n    });\n}\n\n\n\nexport function getMe() {\n  return axios.get(`${url}/user/me`, getApiKeyHeader())\n    .then(v => v.data)\n    .then(v => {\n      if (!v.success) {\n        throw new Error();\n      }\n      return v.response;\n    });\n}\n\nexport function sendSubscription(subscription) {\n  return axios.post(`${url}/subscribe`, subscription, getApiKeyHeader())\n    .then(v => v.data)\n    .then(v => {\n      if (!v.success) {\n        throw new Error();\n      }\n      return v.response;\n    });\n}\n\nfunction getApiKeyHeader() {\n  const token = getAuthToken();\n  if (token) {\n    return {\n      headers: {\n        'api_key': 'Bearer ' + getAuthToken() \n      }\n    }\n  } else {\n    return {}\n  } \n}","import React, { useState, useEffect } from 'react';\nimport {\n  Collapse,\n  Navbar,\n  NavbarToggler,\n  NavbarBrand,\n  Nav,\n  NavItem,\n  NavLink  \n} from 'reactstrap';\nimport Octicon, {Plus, Organization} from '@githubprimer/octicons-react'\nimport { Link } from \"@reach/router\"\nimport './Navigation.css';\nimport { useStateValue } from '../../state';\nimport { getMe } from '../../api';\n\nexport const Navigation = () => {\n  const [isOpen, setisOpen] = useState(false);\n  const [{ auth }, dispatch] = useStateValue()\n  const [profileImage, setPorfileImage] = useState();\n\n  const toggleNavbar = () => {\n    setisOpen(!isOpen);\n  }\n\n  const handleSignout = () => {\n    localStorage.removeItem('auth_token');\n    dispatch({\n      type: 'logout'\n    });\n    return false;\n  }\n\n  useEffect(() => {\n    if (auth) {\n      getMe()\n        .then(v => setPorfileImage(v.profileImageUrl))\n        .catch(alert); \n    }\n  }, [])\n\n  return (\n    <Navbar fixed=\"true\" color=\"blue\" dark expand=\"md\" sticky=\"top\">\n      <Link to=\"/\">\n        <NavbarBrand tag=\"span\" className=\"mr-auto\">\n          <img src=\"/img/bi-symbol-light.png\" alt=\"프로그래머스 로고\"></img>\n        </NavbarBrand>\n      </Link>\n      <NavbarToggler onClick={toggleNavbar} className=\"mr-2\" />\n      <Collapse isOpen={isOpen} navbar>\n        <Nav navbar className=\"mr-auto\">\n          {auth && <NavItem>\n            <NavLink onClick={() => dispatch({ type: \"openPostModal\" })}>\n              <Octicon icon={Plus} size='small' /> 공유하기\n            </NavLink>\n          </NavItem>}\n          {\n            auth && \n            <NavItem>\n              <Link to=\"/friends\">\n                <NavLink tag=\"span\">\n                  <Octicon icon={Organization} size='small' /> 친구\n                </NavLink>\n              </Link>\n            </NavItem>\n          }\n          {/* <NavItem>\n            <NavLink href=\"#\">\n              <Octicon icon={Bell} size='small' /> 알림\n            </NavLink>\n          </NavItem> */}\n        </Nav>\n        {\n          (auth != null) ? \n            <Nav navbar>\n              <NavItem>\n                <NavLink tag=\"span\">\n                  {profileImage && <img src={profileImage}></img>}\n                  {(auth.name) ? auth.name : auth.email}\n                </NavLink>\n              </NavItem>\n\n              <NavItem>\n                <NavLink onClick={handleSignout}>로그아웃</NavLink>\n              </NavItem>\n            </Nav> :\n            <Nav navbar>\n              <NavItem>\n                <Link to=\"/login\">\n                  <NavLink tag=\"span\">로그인</NavLink>\n                </Link>\n              </NavItem>\n\n              <NavItem>\n                <Link to=\"/signup\">\n                  <NavLink tag=\"span\">회원가입</NavLink>\n                </Link>\n              </NavItem>\n            </Nav>\n        }        \n      </Collapse>\n    </Navbar>\n  )\n}","import React, { useEffect, useState } from 'react'\nimport { Button } from 'reactstrap';\nimport './Comments.css';\nimport { useStateValue } from '../../state';\nimport { getComments, writeComment } from '../../api';\nimport Moment from 'react-moment';\n\nconst Comment = (props) => {\n  return (\n    <>\n      <div className=\"contents-accounts inline-items\">\n        {/* <img\n          src=\"https://s3.ap-northeast-2.amazonaws.com/grepp-cloudfront/programmers_imgs/learn/instructor_img/instructor_yunkiMoon_circle.png\"\n          alt=\"author\" /> */}\n        <div className=\"contents-date\">\n          <a className=\"h6 post__author-name\" href=\"#\">{props.writer.name}</a>\n          <div className=\"published-date\">\n            <Moment fromNow ago>{props.createAt}</Moment>\n          </div>\n        </div>\n      </div>\n      <p>{props.contents}</p>\n    </>\n  )\n}\n\nexport default function Comments(props) {\n  const [{ postUesrId, comments }, dispatch] = useStateValue();\n  const [text, setText] = useState(\"\");\n  \n  const handleResults = comments => {\n    dispatch({\n      type: 'getComments',\n      postId: props.postId,\n      comments\n    });\n  }\n  useEffect(() => {\n    getComments(postUesrId, props.postId)\n      .then(handleResults)\n  }, [])\n\n  const sendPost = e => {\n    if (text.length === 0) {\n      return false;\n    }\n    writeComment(postUesrId, props.postId, text)\n      .then(_ => getComments(postUesrId, props.postId))\n      .then(handleResults)\n      .then(_ => setText(\"\"))\n      .catch(alert);\n  }\n\n  const postCommests = comments[props.postId] || [];\n\n  return (\n    <ul className=\"comments\">\n     { postCommests.map(v => \n        <li className=\"comment\" key={v.seq}>      \n          <Comment {...v} ></Comment>             \n        </li>\n     )}\n      <form className=\"comment-form inline-items\">\n        <div className=\"contents-accounts inline-items\">\n          {/* <img src=\"https://s3.ap-northeast-2.amazonaws.com/grepp-cloudfront/programmers_imgs/learn/instructor_img/instructor_yunkiMoon_circle.png\"\n            alt=\"author\" /> */}\n          <div className=\"form-group\">\n            <textarea value={text} onChange={e => setText(e.target.value)} className=\"form-control\" placeholder=\"\"></textarea>\n          </div>\n        </div>\n        <Button color=\"primary\" onClick={sendPost}>공유하기</Button>\n      </form>\n    </ul>\n  )\n}\n","import React from 'react'\nimport './Post.css';\nimport Octicon, {KebabHorizontal, Thumbsup, Comment} from '@githubprimer/octicons-react';\nimport Comments from '../../containers/comments/Comments'\nimport Moment from 'react-moment';\n\nexport default function Post(props) {\n  // const onLikeClick = e => { props.onLikeClick(); false; };\n  return (\n    <div className=\"ui-box\">\n      <article className=\"contents\">\n        <div className=\"contents-accounts inline-items\">\n            {/* <img src=\"https://s3.ap-northeast-2.amazonaws.com/grepp-cloudfront/programmers_imgs/learn/instructor_img/instructor_yunkiMoon_circle.png\"\n                alt=\"author\"/> */}\n            <div className=\"contents-date\">\n              <a className=\"h6 contents-accounts-name\">{props.username}</a>\n              <div className=\"published-date\">\n              <Moment fromNow ago>{props.createAt}</Moment>\n              </div>\n            </div>\n            <div className=\"more\">\n              <Octicon icon={KebabHorizontal} size=\"small\" ></Octicon>\n              <ul className=\"featured-dropdown\">\n                <li>\n                  <a href=\"#\">게시물 수정</a>\n                </li>\n                <li>\n                  <a href=\"#\">게시물 삭제</a>\n                </li>\n              </ul>\n            </div>\n        </div>\n        <p>\n          {props.contents}\n        </p>\n        <div className=\"contents-info inline-items\">\n          <a href=\"#\" onClick={props.onLikeClick}>\n            <div className={\"contents-icon inline-items\" + ((props.likesOfMe) ? \" likesOfMe\" : \"\")}>\n              <Octicon icon={Thumbsup} size=\"small\" ></Octicon>\n              <span>{props.likes}개</span>\n            </div>\n          </a>\n          <a href=\"\">\n            <div className=\"reply\">\n              <Octicon icon={Comment} size=\"small\"></Octicon>\n              <span>{props.comments}개</span>\n            </div>\n          </a>\n        </div>\n      </article>\n      <Comments postId={props.seq} userId={props.userId}></Comments>\n    </div>\n  )\n}","import React, { useState, useEffect, useRef } from 'react'\nimport Post from '../../components/post/Post'\nimport './Posts.css';\nimport { useStateValue } from '../../state';\nimport { getPost, likePost } from '../../api';\nimport { Redirect } from '@reach/router';\n\nconst pageCount = 5\n\nexport const Posts = ( { friendId }) => {  \n  const [{ posts, auth,  }, dispatch] = useStateValue();\n  const [error, setError] = useState(null);  \n  const [query, setQuery] = useState({\n    offset: 0,\n    limit: pageCount\n  });\n  const latestQuery = useRef(query);\n  const latestPosts = useRef(posts);\n\n  useEffect(() => {\n    latestQuery.current = {\n      offset: query.offset,\n      limit: query.limit\n    };\n  });\n\n  useEffect(() => {\n    latestPosts.current = posts;\n  });\n\n  const handleResult = posts => {\n    setError(null);\n    dispatch({\n      type: (query.offset === 0) ? 'getPosts' : 'appendPosts',\n      posts,\n      query,\n      postUesrId: friendId || auth.userKey\n    });\n  };\n\n  const handleError = e => {\n    console.error(e);\n    if (e.response.status === 404) {\n      setError('사용자를 찾을 수 없습니다.');\n    }\n  }\n\n  const handleScroll = (e) => {\n    var d = document.documentElement;\n    var offset = Math.max(window.pageYOffset, d.scrollTop, document.body.scrollTop) + window.innerHeight;\n    var height = d.offsetHeight;\n    // console.log(Math.round(offset), height)\n    // console.log(latestQuery.current.length, latestQuery.current.offset + pageCount)\n    if (Math.round(offset) == height && latestPosts.current.length == latestQuery.current.offset + pageCount) {\n      setQuery({\n        offset: latestQuery.current.offset + pageCount,\n        limit: pageCount\n      });\n    } \n  }\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    return () => {      \n      window.addEventListener('scroll', handleScroll);\n    }\n  }, [])\n\n  useEffect(() => {\n    if (friendId || auth) {\n      getPost(friendId || auth.userKey, query)\n        .then(handleResult)\n        .catch(handleError); \n    }\n  }, [friendId, query])\n  \n  const likeThisPost = v => {  \n    likePost(friendId || auth.userKey, v.seq)\n      .then(post => {\n        console.log(v);\n        dispatch({\n          type: 'updatePost',\n          post\n        });\n      })\n  }\n\n  return (\n    <div className=\"row\">\n      {\n        (error) ? <div className=\"col-12 text-center mt-5\"><h1>{error}</h1> </div> :\n        (friendId) ? posts.map(v => {          \n          return <Post key={v.seq} {...v}\n            username={(v.writer) ? v.writer.name : v.writer.email.address}\n            onLikeClick={e => {likeThisPost(v); e.preventDefault();}}></Post>\n        }) : \n        (auth) ? posts.map(v => {\n          return <Post key={v.seq} {...v} username={(auth.name) ? auth.name : auth.email}\n            onLikeClick={e => { likeThisPost(v); e.preventDefault(); }}></Post>\n        }) : <Redirect to='/login' noThrow></Redirect>\n      }\n    </div>\n  )\n}\n","import React, { useEffect } from 'react'\nimport { Button } from 'reactstrap'\nimport './Friends.css';\nimport Octicon, {Person} from '@githubprimer/octicons-react'\nimport { getFreinds } from '../../api';\nimport { useStateValue } from '../../state';\nimport { Link } from '@reach/router';\n\n\nconst Friend = (props) => {  \n  return (\n    <li>\n      <div className=\"user-thumb\">\n        {\n          // <img src=\"https://s3.ap-northeast-2.amazonaws.com/grepp-cloudfront/programmers_imgs/learn/instructor_img/instructor_yunkiMoon_circle.png\" alt=\"author\"/>\n        }\n      </div>\n      <div className=\"noti-text\">\n        <Link to={`./${props.seq}`} className=\"h6 noti-account\">{(props.name) ? props.name : props.email.address}</Link>\n      </div>\n      <span className=\"noti-icon\">\n        <Button color=\"danger\">\n          <Octicon icon={Person} size='small' /> 친구 제거\n        </Button>\n        {/* <a href=\"#\" className=\"btn btn-sm btn-primary\"><i class=\"fas fa-user-plus\"></i>친구 추가</a> */}\n      </span>\n    </li>\n  )\n}\n\nconst Friends = () => {\n  const [{ friends }, dispatch] = useStateValue()\n\n  useEffect(() => {\n    getFreinds()\n      .then(friends => {\n        dispatch({\n          type: 'getFriedns',\n          friends\n        })\n      });\n  }, [friends.length])\n\n  return (\n    <div className=\"row\">\n      <div className=\"ui-box\">\n        <div className=\"dropdown-title\">\n          <h6 className=\"title\">친구목록</h6>\n        </div>\n        <ul className=\"noti-list friend-requests\">\n          {(friends.length > 0) ? friends.map(v => \n            <Friend key={v.seq} {...v}/>\n          ) : <li>친구가 없습니다.</li>}\n        </ul>\n      </div>        \n    </div>\n  );\n}\n\nexport default Friends","import React from 'react'\nimport './Login.css';\nimport { Redirect, Link } from '@reach/router'\nimport { useStateValue } from '../../state';\nimport { login } from '../../api';\nimport jwtDecode from 'jwt-decode';\n\nexport const Login = () => {\n  const [email, setEmail] = React.useState(\"\");\n  const [passwd, setPasswd] = React.useState(\"\");\n  const [{ auth }, dispatch] = useStateValue()\n\n  const changeEmail = e => {\n    setEmail(e.currentTarget.value);\n  };\n  const changePasswd = e => {\n    setPasswd(e.currentTarget.value);\n  };\n  \n  if (auth) {\n    return (<Redirect to=\"/\" noThrow />);\n  }\n\n  const handleSubmit = async () => {\n    try {\n      const rep = await login({ email, passwd });\n      const auth = jwtDecode(rep.apiToken);\n      \n      localStorage.setItem('auth_token', rep.apiToken);\n      dispatch({\n        type: 'login',\n        auth\n      });\n    } catch (error) {\n      alert(error);\n    }\n    return false;\n  };\n\n  return (\n    <>\n      <h1 className=\"text-center login-title\">웹 트랙 로그인</h1>\n      <div className=\"account-wall\">\n        <form className=\"form-signin\">\n          <input type=\"email\" value={email} onChange={changeEmail} className=\"form-control\" placeholder=\"Email\" required autoFocus />\n          <input type=\"password\" value={passwd} onChange={changePasswd} className=\"form-control\" placeholder=\"Password\" required />\n          <button onClick={() => {handleSubmit(); return false;} } className=\"btn btn-lg btn-primary btn-block\" type=\"button\">로그인</button>\n        </form>\n      </div>\n      <p className=\"text-help text-center\">\n        계정이 필요하신가요?\n        {\" \"}<Link to=\"/signup\" className=\"text-center new-account\">계정 만들기</Link>\n      </p>\n    </>\n  )\n}","import React, { useState } from 'react'\nimport './Signup.css';\nimport { Link } from '@reach/router';\nimport { signup, userExists } from '../../api';\nimport { navigate } from '@reach/router';\n\nconst Signup = () => {\n  const [email, setEmail] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [rePassword, setRePassword] = useState(\"\");\n  const [file, setFile] = useState(\"\");\n\n  const onChange = e => setFile(e.target.files[0]);\n \n  const join = (e) => {\n    e.preventDefault();\n\n    if (password !== rePassword) {\n      alert('패스워드가 동일하지 않습니다.');\n      return;\n    }\n    userExists(email)\n      .then(v => {\n        if (v === true) {\n          throw new Error(`${email} 해당 이메일은 이미 존재 합니다.`);\n        }\n        return true;\n      })\n      .then(v => signup(email, name, password, file))\n      .then(v => {\n        console.log(\"!!!\", v)\n        alert(`${email}로 가입이 완료되었습니다.`);\n        navigate('/login')\n      })\n      .catch(e => {\n        if (e.response) {\n          alert(e.response.data.message);\n        }\n        if (e.message) {\n          alert(e.message);\n        }\n        console.dir(e);\n        \n      })\n    \n    return false;\n  }\n\n  return (\n    <>\n      <h1 className=\"text-center signup-title\">계정 만들기</h1>\n      <div className=\"account-wall\">\n          <form className=\"form-signup\" onSubmit={join}>\n              <div className=\"form-group\">\n                <input type=\"text\" className=\"form-input\" name=\"email\" id=\"email\" placeholder=\"Your Email\" \n                  value={email} onChange={v => setEmail(v.target.value)}/>\n              </div>\n              <div className=\"form-group\">\n                <input type=\"text\" className=\"form-input\" name=\"name\" id=\"name\" placeholder=\"Your Name\" \n                  value={name} onChange={v => setName(v.target.value)}/>\n              </div>\n              <div className=\"form-group\">\n                <input type=\"file\" className=\"form-input\" name=\"file\" id=\"file\" placeholder=\"사진\" onChange={onChange} />            \n              </div>\n              \n              <div className=\"form-group\">\n                <input type=\"password\" className=\"form-input\" name=\"password\" id=\"password\" placeholder=\"Password\" \n                  value={password} onChange={v => setPassword(v.target.value)}/>\n              </div>\n              <div className=\"form-group\">\n                <input type=\"password\" className=\"form-input\" name=\"re_password\" id=\"re_password\" placeholder=\"Repeat your password\" \n                  value={rePassword} onChange={v => setRePassword(v.target.value)}/>\n              </div>\n              <button className=\"btn btn-lg btn-primary btn-block\" type=\"submit\">가입하기</button>\n          </form>\n      </div>\n      <p className=\"text-help text-center\">\n        이미 계정이 있으신가요?\n        {\" \"}\n        <Link to=\"/login\" className=\"text-center login-here\">로그인 하기</Link>\n      </p>\n    </>\n  )\n}\n\nexport default Signup;","import React, { useState } from 'react'\nimport { navigate } from '@reach/router';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { sendPost } from '../../api';\nimport { useStateValue } from '../../state'\n\nfunction PostModal() {\n  const [contents, setContents] = useState(\"\");\n  const [{ postModalOpened, auth }, dispatch] = useStateValue();\n\n  const toggle = () => {\n    dispatch({ \n      type: 'togglePostModal',\n      postModalOpened: !postModalOpened\n    });\n  }\n\n  const post = () => {\n    if (contents.length > 0) {\n      sendPost(contents)\n        .then(v => {\n          try {\n            navigate('/');\n          } catch (e) {\n            console.log(e);\n            console.dir(e);\n          }        \n          return v;\n        })\n        // .then(v => getPost(auth.userKey, query))\n        .then(post => {\n          dispatch({\n            type: 'newPostCreated',\n            post,\n            postUesrId: auth.userKey\n          });\n          setContents('')\n          toggle();\n        })\n        .catch(e => {\n          if (e.response) {\n            alert(e.response.data.message);\n          }\n          console.dir(e);\n        });\n    }\n  }\n  return (\n    <Modal isOpen={postModalOpened} toggle={toggle} className='post-modal'>\n      <ModalHeader toggle={toggle}>게시물 작성</ModalHeader>\n      <ModalBody>\n        <form>\n          <textarea className=\"form-control input-lg\" \n            autoFocus={true} placeholder=\"무슨 생각을 하고 계신가요?\" spellCheck={false} \n            value={contents} onChange={e => setContents(e.target.value)}>\n          </textarea>\n        </form>\n      </ModalBody>\n      <ModalFooter>\n        <Button color=\"primary\" onClick={post}>공유하기</Button>\n      </ModalFooter>\n    </Modal>\n  )\n}\n\nexport default PostModal\n","import React from 'react';\nimport './App.css';\nimport { Navigation } from './components/navigation/Navigation';\nimport { Posts } from './containers/posts/Posts'\nimport { Router } from \"@reach/router\"\nimport Friends from './containers/friends/Friends'\nimport { Login } from './components/login/Login'\nimport Signup from './components/signup/Signup'\nimport { StateProvider, reducer, initialState } from './state';\nimport PostModal from './components/postModal/PostModal';\nimport Moment from 'react-moment';\nimport 'moment/locale/ko';\n\nMoment.globalLocale = 'ko';\n\nconst App = () => {\n  return (\n    <StateProvider initialState={initialState} reducer={reducer}>    \n      <Navigation></Navigation>\n\n      <div className=\"container\">\n        <Router>\n          <Posts path=\"/\" />\n          <Friends path=\"/friends\" />\n          <Posts path=\"/friends/:friendId\"/>\n          <Login path='/login' />\n          <Signup path='/signup' />\n        </Router> \n      </div>\n      \n      <PostModal></PostModal>\n\n    </StateProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\nimport { sendSubscription } from './api';\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  console.log(config);\n  if ('serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker-noti.js`;\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(registration => {          \n          const subscribeOptions = {\n            userVisibleOnly: true,\n            applicationServerKey: urlBase64ToUint8Array(\n              'BFJsnkDcKmsymlt5ZVUlIrGtqUxKVEiZ0iBRV3NKCFHrizInoT9FuA8MYESQVzbrTx4njj7lC3Iiz7K41dKUwGE'\n            )\n          };\n      \n          return registration.pushManager.subscribe(subscribeOptions);\n        }).then(subscription => {\n          const notificationEndPoint = subscription.endpoint;\n          const key = subscription.getKey('p256dh');\n          const auth = subscription.getKey('auth');\n          console.log('Received PushSubscription: ', JSON.stringify(subscription));\n          var encodedKey = btoa(String.fromCharCode.apply(null, new Uint8Array(key)));\n          var encodedAuth = btoa(String.fromCharCode.apply(null, new Uint8Array(auth)));\n          \n          return sendSubscription({\n            publicKey: encodedKey, \n            auth: encodedAuth, \n            notificationEndPoint\n          });\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nfunction urlBase64ToUint8Array(base64String) {\n  const padding = '='.repeat((4 - base64String.length % 4) % 4);\n  const base64 = (base64String + padding)\n    .replace(/\\-/g, '+')\n    .replace(/_/g, '/')\n  ;\n  const rawData = window.atob(base64);\n  return Uint8Array.from([...rawData].map((char) => char.charCodeAt(0)));\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\naskPermission()\n  .then(status => {\n    if (status === 'denied') {\n      console.log('[Notification.requestPermission] The user has blocked notifications.');        \n    } else if (status === 'granted') {\n      console.log('[Notification.requestPermission] Initializing service worker.');        \n    }\n  });\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nfunction askPermission() {\n  return new Promise(function(resolve, reject) {\n    const permissionResult = Notification.requestPermission(function(result) {\n      resolve(result);\n    });\n\n    if (permissionResult) {\n      permissionResult.then(resolve, reject);\n    }\n  })\n  .then(permissionResult => {\n    if (permissionResult !== 'granted') {\n      console.error('We weren\\'t granted permission.');\n    }\n    return permissionResult;\n  });\n}\n  \n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}